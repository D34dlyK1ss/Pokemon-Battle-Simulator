FROM node:18

WORKDIR /server

COPY package*.json ./

RUN npm i

COPY . .

ENV SERVER_PORT=8443

ENV CLIENT_PORT=8000

ENV DB_PORT=3306

ENV DB_CONNECTION=mysql

ENV DB_HOST=127.0.0.1

ENV DB_DATABASE=who-is-it

ENV DB_USERNAME=root

ENV DB_PASSWORD=123456789

EXPOSE 8443

EXPOSE 8000

CMD ["node", "."]